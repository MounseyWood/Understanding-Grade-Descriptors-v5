<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BA (Hons) Fashion - Understanding Grade Descriptors</title>
    
    <!-- Simple font import with local fallbacks -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', Arial, Helvetica, sans-serif;
            background-color: #ffffff;
            color: #333333;
            line-height: 1.6;
            padding: 0;
            margin: 0;
        }
        
        /* Container styles */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Content area */
        .content {
            background-color: #ffffff;
            padding: 30px;
            margin-bottom: 30px;
        }
        
        /* Header styles */
        .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid #aaaaaa;
            padding-bottom: 20px;
        }
        
        .header img {
            max-width: 300px;
            margin-bottom: 15px;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        
        .header h1 {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 16px;
        }
        
        .header p {
            font-size: 16px;
            margin-bottom: 8px;
        }
        
        /* Button styles */
        .ku-button {
            display: inline-block;
            background-color: #FFF200;
            color: #000000;
            font-weight: bold;
            font-size: 16px;
            padding: 8px 15px;
            border-radius: 0;
            text-decoration: none;
            margin: 10px 5px;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .ku-button:hover {
            background-color: #E6D900;
        }
        
        /* Grade button styles */
        .grade-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            margin-bottom: 24px;
        }
        
        .grade-btn {
            padding: 8px 16px;
            margin: 4px;
            border: none;
            border-radius: 0;
            font-weight: 500;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .grade-btn:hover {
            opacity: 0.9;
        }
        
        .grade-btn.active {
            outline: 2px solid #666666;
            outline-offset: 2px;
        }
        
        /* Grade colors */
        .grade-distinction {
            background-color: #80FF80;
            color: #000000;
        }
        
        .grade-first {
            background-color: #BFFF80;
            color: #000000;
        }
        
        .grade-upper-second {
            background-color: #FFFF80;
            color: #000000;
        }
        
        .grade-lower-second {
            background-color: #FFE880;
            color: #000000;
        }
        
        .grade-third {
            background-color: #FFCC80;
            color: #000000;
        }
        
        .grade-marginal-fail {
            background-color: #FF9980;
            color: #000000;
        }
        
        .grade-fail {
            background-color: #FF8080;
            color: #000000;
        }
        
        /* Grade detail section */
        .grade-detail {
            padding: 16px;
            margin-bottom: 24px;
            border-radius: 0;
        }
        
        .grade-detail h2 {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .grade-detail p {
            font-size: 18px;
            margin-bottom: 16px;
        }
        
        /* Table styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        caption {
            text-align: left;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 20px;
        }
        
        th {
            background-color: #f1f1f1;
            text-align: left;
            padding: 12px;
            border: 1px solid #dddddd;
            font-weight: bold;
        }
        
        td {
            padding: 12px;
            border: 1px solid #dddddd;
            vertical-align: top;
        }
        
        /* Improvement section */
        .improvements {
            margin-top: 24px;
            padding: 16px;
            background-color: #f9f9f9;
            border: 1px solid #dddddd;
        }
        
        .improvements h3 {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 18px;
        }
        
        .improvements ul {
            list-style-type: disc;
            padding-left: 20px;
        }
        
        .improvements li {
            margin-bottom: 8px;
        }
        
        /* Note style */
        .note {
            margin-top: 16px;
            padding: 12px;
            background-color: #f1f1f1;
            border-left: 4px solid #FFF200;
            font-size: 14px;
            color: #666666;
        }
        
        /* Button container */
        .button-container {
            margin-top: 24px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        /* Modal styles */
        .matrix-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }
        
        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 20px;
            width: 90%;
            max-width: 1200px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
        
        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            background: none;
            border: none;
            cursor: pointer;
            color: #666666;
        }
        
        .close-btn:hover {
            color: #000000;
        }
        
        .matrix-info {
            margin-bottom: 16px;
            padding: 16px;
            background-color: #f9f9f9;
            border: 1px solid #dddddd;
        }
        
        .matrix-info h4 {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 16px;
        }
        
        .matrix-info ol {
            list-style-type: decimal;
            padding-left: 20px;
        }
        
        .matrix-info li {
            margin-bottom: 4px;
        }
        
        /* Footer styles */
        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: #666666;
            font-size: 14px;
            border-top: 1px solid #eeeeee;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .content {
                padding: 15px;
            }
            
            .ku-button {
                margin: 5px 0;
                display: block;
                width: 100%;
            }
            
            .grade-buttons {
                flex-direction: column;
            }
            
            .grade-btn {
                width: 100%;
            }
            
            table {
                font-size: 14px;
            }
            
            th, td {
                padding: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="content">
            <div class="header">
                <img src="understanding_grade_descriptors_BA_Fashion.png" alt="Kingston School of Art Logo">
                <h1>Understanding Grade Descriptors</h1>
                <p>This interactive guide aims to help you understand the grade descriptors used to assess your work on the BA (Hons) Fashion program. Click on each grade band to see what tutors look for, and to understand the key differences between grade bands. This will help you in your efforts to achieve higher grades, through identifying specific areas for improvement.</p>
            </div>
            
            <div id="app">
                <!-- Grade buttons will be generated here -->
                <div class="grade-buttons" id="grade-buttons"></div>
                
                <!-- Grade detail section will be generated here -->
                <div id="grade-detail" class="grade-detail"></div>
                
                <!-- Assessment criteria table will be generated here -->
                <table>
                    <caption>Assessment Criteria</caption>
                    <tbody id="criteria-table"></tbody>
                </table>
                
                <!-- Improvement tips will be generated here -->
                <div class="improvements">
                    <h3>How to move up to the next grade band:</h3>
                    <ul id="improvement-list"></ul>
                </div>
                
                <!-- Note -->
                <div class="note">
                    <p>Note: This is a visual interpretation of the Kingston School of Art BA (Hons) Fashion grade descriptors. Always refer to the official grade descriptors in your course handbook for definitive guidance.</p>
                </div>
                
                <!-- Buttons -->
                <div class="button-container">
                    <button class="ku-button" id="matrix-button">Complete Grading Matrix</button>
                    <a class="ku-button" href="https://canvas.kingston.ac.uk/courses/8255/pages/7-fairness-in-assessment" target="_blank">Fairness in Assessment</a>
                    <a class="ku-button" href="https://canvas.kingston.ac.uk/courses/32501" title="Back to Module Home Page">Back to Module Home Page</a>
                </div>
                
                <!-- Matrix Modal -->
                <div id="matrix-modal" class="matrix-modal">
                    <div class="modal-content">
                        <button class="close-btn" id="close-matrix">&times;</button>
                        <h3 style="font-size: 20px; font-weight: bold; margin-bottom: 16px;">Complete Grading Matrix</h3>
                        
                        <div class="matrix-info">
                            <h4>Learning Outcomes & Assessment Criteria</h4>
                            <p style="margin-bottom: 8px;">Each criterion in the matrix relates to one of the 4 program learning outcomes:</p>
                            <ol>
                                <li><strong>Research and Analysis:</strong> Critical examination of context and interpretation of sources</li>
                                <li><strong>Experimentation and Practice:</strong> Testing of subject, thinking through making, technique, risk taking and problem solving</li>
                                <li><strong>Communication and Presentation:</strong> Realisation of intentions and skill in appropriate media with awareness of audience needs</li>
                                <li><strong>Personal and Professional Development:</strong> Planning, time-management, commitment & subject engagement</li>
                            </ol>
                        </div>
                        
                        <div style="overflow-x: auto;">
                            <table id="matrix-table">
                                <!-- Table content will be generated here -->
                            </table>
                        </div>
                        
                        <div style="margin-top: 24px; text-align: center;">
                            <button class="ku-button" id="close-matrix-btn">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>Kingston School of Art - BA (Hons) Fashion Program - Learning Outcomes, Feedback and Assessment Knowledge Base</p>
            <p>© 2025 Kingston University</p>
        </div>
    </div>

    <script>
        // Grade data
        const grades = [
            {
                id: 'first-plus',
                title: 'Distinction',
                range: '85% and above',
                colorClass: 'grade-distinction',
                qualities: [
                    { title: 'Research & Analysis', description: 'Your tutors are looking for exceptional research that goes far beyond expectations. You should demonstrate original thinking and provide strong evidence to support your ideas. Your work should show deep understanding of relevant contexts and critically analyze sources with comprehensive evidence.' },
                    { title: 'Experimentation & Practice', description: 'Your tutors want to see innovative approaches that challenge conventional thinking. Your technical skills should be excellent, with clear evidence of creative risk-taking and problem-solving. Your work should show a strong connection between concept development and making/production techniques.' },
                    { title: 'Communication & Presentation', description: 'Your tutors expect extremely clear and professional presentation that convincingly communicates your ideas. Your work should show you understand your audience\'s needs and have carefully selected and refined your materials to create maximum impact.' },
                    { title: 'Personal & Professional Development', description: 'Your tutors are looking for evidence that you can integrate your personal identity into your professional practice. You should demonstrate that you can work productively on your own, collaborate effectively in teams, and take leadership roles when needed. You should take full responsibility for your own learning and development.' }
                ],
                improvements: [
                    "You're already achieving at the highest level! To maintain this standard:",
                    "Continue pursuing innovative research and pushing boundaries in your practice",
                    "Maintain the exceptional standards you've established across all aspects of your work",
                    "Consider how you can share your expertise to support the learning community",
                    "Begin thinking about how your outstanding work might translate to professional opportunities"
                ],
                quality: 'Outstanding'
            },
            {
                id: 'first',
                title: 'First Class',
                range: '70-84%',
                colorClass: 'grade-first',
                qualities: [
                    { title: 'Research & Analysis', description: 'Your tutors are looking for extensive, well-informed research from diverse sources. You should demonstrate independent thinking in how you analyze your findings. Your work should show strong critical examination of relevant contexts with clear evaluation of sources.' },
                    { title: 'Experimentation & Practice', description: 'Your tutors want to see how you connect your ideas with strong technical skills to explore unfamiliar concepts. You should demonstrate creative risk-taking and show how your critical evaluation has informed your design decisions. Your technical execution should be excellent.' },
                    { title: 'Communication & Presentation', description: 'Your tutors expect your work to engage and persuade your audience effectively. You should demonstrate sensitivity in how you select and present your materials. Your presentation should show a clear understanding of audience needs and contextual factors.' },
                    { title: 'Personal & Professional Development', description: 'Your tutors are looking for evidence that you take full responsibility for your learning and understand both the possibilities and requirements of your subject. You should demonstrate that you can work effectively independently, as part of a team, or in leadership roles.' }
                ],
                improvements: [
                    "Research: Develop original insights that contribute something new to the discussion. Synthesize diverse sources into a distinctive personal perspective.",
                    "Experimentation: Take well-calculated risks that push boundaries while maintaining professional quality. Demonstrate mastery of techniques while still innovating.",
                    "Communication: Perfect every aspect of your presentation to professional standards. Consider subtle details that elevate your work beyond expectations.",
                    "Development: Show evidence of going beyond module requirements to pursue deeper understanding. Demonstrate exceptional commitment to your development.",
                    "Process: Develop a distinctive voice or approach that sets your work apart. Show how your personal perspective enriches your fashion practice."
                ],
                quality: 'Excellent'
            },
            {
                id: 'upper-second',
                title: 'Upper Second (2:1)',
                range: '60-69%',
                colorClass: 'grade-upper-second',
                qualities: [
                    { title: 'Research & Analysis', description: 'Your tutors are looking for wide-ranging research from good quality sources. You should demonstrate some independent thinking in your analysis. Your work should show accurate evaluation of relevant contexts and sources with clear personal insights.' },
                    { title: 'Experimentation & Practice', description: 'Your tutors want to see evidence that you\'re willing to take creative risks and use your own critical evaluation to inform your process and technique. Your technical skills should be consistently applied and show good proficiency.' },
                    { title: 'Communication & Presentation', description: 'Your tutors expect your presentation to show good awareness of audience and context. You should demonstrate good judgment in how you select and organize your materials, following appropriate conventions while adding your personal touch.' },
                    { title: 'Personal & Professional Development', description: 'Your tutors are looking for evidence of self-directed reflection and planning in your work. You should show that you understand the possibilities within your subject area and can work well either independently or collaboratively.' }
                ],
                improvements: [
                    "Research: Seek out specialized or unusual sources that others might not find. Begin to develop a more personal research methodology that reflects your interests.",
                    "Experimentation: Demonstrate more sophisticated analysis of your own experiments. Evaluate which approaches are most effective and explain why.",
                    "Communication: Consider subtlety and nuance in your presentations. Refine your visual and verbal language to communicate more complex ideas effectively.",
                    "Development: Show greater independence in directing your own learning. Identify specific skills or knowledge areas to develop that align with your career goals.",
                    "Process: Connect your work to wider contexts. Show awareness of how your practice relates to contemporary issues or practices in the field."
                ],
                quality: 'Very Good'
            },
            {
                id: 'lower-second',
                title: 'Lower Second (2:2)',
                range: '50-59%',
                colorClass: 'grade-lower-second',
                qualities: [
                    { title: 'Research & Analysis', description: 'Your tutors are looking for accurate and appropriate research covering the key elements of your project. Your analysis of context and interpretation of sources should be mostly accurate, though may have some gaps or inconsistencies.' },
                    { title: 'Experimentation & Practice', description: 'Your tutors want to see that you\'ve explored different materials and processes in your work. Your technical skills should be consistently applied, with some evidence that you\'ve critically evaluated your own work during the process.' },
                    { title: 'Communication & Presentation', description: 'Your tutors expect your work to be presented with good organization and a clear structure, though it may not always fully consider the audience. You should show good judgment in selecting and organizing materials to present your ideas.' },
                    { title: 'Personal & Professional Development', description: 'Your tutors are looking for evidence that you\'re actively working to develop your understanding and using reflection to improve your work. You should demonstrate that you can work productively either alone or as part of a team.' }
                ],
                improvements: [
                    "Research: Find connections between different sources and your own ideas. Look for patterns, contradictions, or gaps that your work could address.",
                    "Experimentation: Take more creative risks in your development work. Document your decision-making process, explaining why you chose certain directions over others.",
                    "Communication: Refine your presentation skills to appear more professional. Consider how layout, typography, and visual hierarchy enhance understanding of your work.",
                    "Development: Be more self-critical in your reflection. Identify specific strengths in your work and areas where you'd like to develop further expertise.",
                    "Process: Demonstrate deeper engagement with feedback. Show how you've applied previous feedback to improve current work."
                ],
                quality: 'Good'
            },
            {
                id: 'third',
                title: 'Third Class',
                range: '40-49%',
                colorClass: 'grade-third',
                qualities: [
                    { title: 'Research & Analysis', description: 'Your tutors are looking for research from standard sources that covers the basics of your topic. You should show basic knowledge and understanding of required skills, though your interpretation may not always be accurate or in-depth.' },
                    { title: 'Experimentation & Practice', description: 'Your tutors want to see that you can work with established ideas, materials, and processes. Your technical skills should be adequate, though they may not always be consistently applied throughout your work.' },
                    { title: 'Communication & Presentation', description: 'Your tutors expect adequate presentation that follows established conventions, though it may lack professional polish. Your work should communicate basic ideas but might not fully engage the audience.' },
                    { title: 'Personal & Professional Development', description: 'Your tutors are looking for some awareness of your subject area and your personal strengths, though your reflection and planning may not be consistently applied. You should be able to work either independently or collaboratively.' }
                ],
                improvements: [
                    "Research: Move beyond describing your sources to analyzing them. Ask questions like "Why is this relevant?" and "How does this connect to my project?"",
                    "Experimentation: Push yourself to explore beyond your comfort zone. For each project, include at least one technique or approach that's new to you.",
                    "Communication: Consider your audience more actively. Ask yourself "What does my viewer need to know?" and ensure your presentation addresses this.",
                    "Development: Set specific learning goals for each project. Reflect on what you've achieved and what you still need to work on in your documentation.",
                    "Process: Improve your documentation to show a clear journey from research through development to final outcomes. Make connections between these stages explicit."
                ],
                quality: 'Satisfactory'
            },
            {
                id: 'marginal-fail',
                title: 'Marginal Fail',
                range: '35-39%',
                colorClass: 'grade-marginal-fail',
                qualities: [
                    { title: 'Research & Analysis', description: 'Your tutors are looking for more source information than is currently evidenced in your work. You need to show greater knowledge and understanding of the required skills and practices for this level of study.' },
                    { title: 'Experimentation & Practice', description: 'Your tutors want to see more evidence of technique and exploration of alternatives. Your methods need to be more accurate and appropriate to solve even straightforward problems in your work.' },
                    { title: 'Communication & Presentation', description: 'Your tutors expect more effective use of media and communication conventions in presenting your ideas. Your presentation skills need development to meet the requirements for this level of study.' },
                    { title: 'Personal & Professional Development', description: 'Your tutors are looking for more awareness of your subject and personal strengths. You need to show more evidence of reflection, planning, and application. Your ability to work productively individually or in a team needs further development.' }
                ],
                improvements: [
                    "Research: Expand your sources beyond the most obvious ones. For each project, aim to find at least 3-5 different references and explain why they're relevant.",
                    "Experimentation: Demonstrate that you've tried multiple approaches before settling on a final direction. Show "what if" explorations in your development work.",
                    "Communication: Improve the consistency and professionalism of your presentations. Pay attention to details like typography, layout, and image quality.",
                    "Development: Begin to analyze your own strengths and weaknesses. Create simple action plans that show how you're addressing areas that need improvement.",
                    "Process: Show evidence of planning and time management. Include research, development, and refinement stages in your project timeline."
                ],
                quality: 'Unsatisfactory'
            },
            {
                id: 'fail',
                title: 'Fail',
                range: '0-34%',
                colorClass: 'grade-fail',
                qualities: [
                    { title: 'Research & Analysis', description: 'Your tutors need to see evidence of source information in your work. You must demonstrate knowledge and understanding of the required skills and practices for this level of study.' },
                    { title: 'Experimentation & Practice', description: 'Your tutors expect to see evidence of technical skills and exploration of alternatives. You need to demonstrate adequate application of methods to meet basic requirements.' },
                    { title: 'Communication & Presentation', description: 'Your tutors require effective use of media and communication conventions in presenting your ideas. Your presentation skills must meet minimum requirements for this level of study.' },
                    { title: 'Personal & Professional Development', description: 'Your tutors need to see evidence of awareness of your subject area and personal strengths. You must demonstrate some reflection, planning, and application, and show that you can work productively either individually or in a team.' }
                ],
                improvements: [
                    "Research: Start gathering information from reliable sources and include these references in your work. Build basic knowledge of key concepts and practices.",
                    "Experimentation: Try different approaches and techniques rather than sticking with one method. Document your process, even when things don't work out.",
                    "Communication: Focus on basic presentation skills—clean layouts, clear labels, and organized materials. Follow basic formatting guidelines for all submissions.",
                    "Development: Attend all sessions and demonstrate engagement with feedback. Show that you're trying to apply advice from tutors in your revised work.",
                    "Process: Keep a simple reflective journal documenting what you're learning and areas you find challenging."
                ],
                quality: 'Poor'
            }
        ];
        
        // Matrix data for the popup
        const matrixData = {
            headers: [
                "Criteria", 
                "Distinction (85%+)", 
                "First (70-84%)", 
                "2:1 (60-69%)", 
                "2:2 (50-59%)", 
                "Third (40-49%)", 
                "Marginal Fail (35-39%)", 
                "Fail (0-34%)"
            ],
            rows: [
                {
                    title: "Research & Analysis",
                    cells: [
                        "Exceptional levels of research and synthesis. Original interpretation.",
                        "Extensive research, independent synthesis and evaluation.",
                        "Wide ranging and well-informed research and accurate evaluation.",
                        "Accurate and appropriate research of elements.",
                        "Adequate range from standard sources.",
                        "Limited source information evidenced.",
                        "Little or no source information evidenced."
                    ]
                },
                {
                    title: "Experimentation & Practice",
                    cells: [
                        "Excellent conceptual exploration and technical skills to innovate.",
                        "Unified ideas and technical skills with critical judgement.",
                        "Evidence of conceptual risk taking and personal evaluation.",
                        "Evidence of exploration of materials and process.",
                        "Operates within well-established ideas and processes.",
                        "Very limited technique or exploration of alternatives.",
                        "Poor technical skills with inadequate methods."
                    ]
                },
                {
                    title: "Communication & Presentation",
                    cells: [
                        "Extremely clear, detailed and convincing presentation.",
                        "Persuasive and convincing engagement of audience.",
                        "Very good awareness of audience and context.",
                        "Good judgement in organization of materials.",
                        "Adequate presentation but may lack professionalism.",
                        "Presentation skills not sufficient for this level.",
                        "Poor presentation skills that don't meet requirements."
                    ]
                },
                {
                    title: "Personal & Professional Development",
                    cells: [
                        "Integration of identity in real contexts. Highly productive.",
                        "Takes full responsibility for learning. Works in all roles.",
                        "Self-directed reflection and planning process.",
                        "Actively working to develop understanding.",
                        "Evidence of awareness of subject and strengths.",
                        "Little evidence of reflection or planning.",
                        "No awareness of subject or ability to work productively."
                    ]
                }
            ]
        };
        
        // Initialize variables
        let activeGradeId = 'first-plus';
        
        // DOM elements
        const gradeButtonsContainer = document.getElementById('grade-buttons');
        const gradeDetailContainer = document.getElementById('grade-detail');
        const criteriaTableContainer = document.getElementById('criteria-table');
        const improvementListContainer = document.getElementById('improvement-list');
        const matrixModal = document.getElementById('matrix-modal');
        const matrixButton = document.getElementById('matrix-button');
        const closeMatrixButton = document.getElementById('close-matrix');
        const closeMatrixBtn = document.getElementById('close-matrix-btn');
        const matrixTable = document.getElementById('matrix-table');
        
        // Create grade buttons
        function createGradeButtons() {
            grades.forEach(grade => {
                const button = document.createElement('button');
                button.className = `grade-btn ${grade.colorClass} ${grade.id === activeGradeId ? 'active' : ''}`;
                button.textContent = grade.range;
                button.dataset.gradeId = grade.id;
                button.addEventListener('click', () => {
                    activeGradeId = grade.id;
                    updateActiveButton();
                    updateGradeDetail();
                    updateCriteriaTable();
                    updateImprovementList();
                });
                gradeButtonsContainer.appendChild(button);
            });
        }
        
        // Update active button
        function updateActiveButton() {
            document.querySelectorAll('.grade-btn').forEach(btn => {
                if (btn.dataset.gradeId === activeGradeId) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }
        
        // Update grade detail section
        function updateGradeDetail() {
            const activeGrade = grades.find(grade => grade.id === activeGradeId);
            gradeDetailContainer.className = `grade-detail ${activeGrade.colorClass}`;
            gradeDetailContainer.innerHTML = `
                <h2>${activeGrade.title} (${activeGrade.range})</h2>
                <p>Overall Quality: ${activeGrade.quality}</p>
            `;
        }
        
        // Update criteria table
        function updateCriteriaTable() {
            const activeGrade = grades.find(grade => grade.id === activeGradeId);
            criteriaTableContainer.innerHTML = '';
            
            activeGrade.qualities.forEach(quality => {
                const row = document.createElement('tr');
                const th = document.createElement('th');
                th.style.width = '25%';
                th.textContent = quality.title;
                
                const td = document.createElement('td');
                td.textContent = quality.description;
                
                row.appendChild(th);
                row.appendChild(td);
                criteriaTableContainer.appendChild(row);
            });
        }
        
        // Update improvement list
        function updateImprovementList() {
            const activeGrade = grades.find(grade => grade.id === activeGradeId);
            improvementListContainer.innerHTML = '';
            
            activeGrade.improvements.forEach(improvement => {
                const li = document.createElement('li');
                li.textContent = improvement;
                improvementListContainer.appendChild(li);
            });
        }
        
        // Create matrix table
        function createMatrixTable() {
            // Create table header
            const thead = document.createElement('thead');
            const headerRow = document.createElement('tr');
            
            matrixData.headers.forEach((header, index) => {
                const th = document.createElement('th');
                th.textContent = header;
                
                // Add color classes to grade columns (skip the first which is the criteria column)
                if (index > 0) {
                    const gradeId = grades[index - 1].id;
                    th.className = grades[index - 1].colorClass;
                }
                
                headerRow.appendChild(th);
            });
            
            thead.appendChild(headerRow);
            matrixTable.appendChild(thead);
            
            // Create table body
            const tbody = document.createElement('tbody');
            
            matrixData.rows.forEach(row => {
                const tr = document.createElement('tr');
                
                // Add row header (criteria title)
                const th = document.createElement('th');
                th.textContent = row.title;
                tr.appendChild(th);
                
                // Add cells
                row.cells.forEach((cell, index) => {
                    const td = document.createElement('td');
                    td.textContent = cell;
                    
                    // Add color classes to cells
                    if (index < grades.length) {
                        td.className = grades[index].colorClass;
                    }
                    
                    tr.appendChild(td);
                });
                
                tbody.appendChild(tr);
            });
            
            matrixTable.appendChild(tbody);
        }
        
        // Toggle matrix modal
        function toggleMatrix() {
            if (matrixModal.style.display === 'block') {
                matrixModal.style.display = 'none';
            } else {
                matrixModal.style.display = 'block';
            }
        }
        
        // Initialize the app
        function initializeApp() {
            createGradeButtons();
            updateGradeDetail();
            updateCriteriaTable();
            updateImprovementList();
            createMatrixTable();
            
            // Add event listeners for matrix modal
            matrixButton.addEventListener('click', toggleMatrix);
            closeMatrixButton.addEventListener('click', toggleMatrix);
            closeMatrixBtn.addEventListener('click', toggleMatrix);
            
            // Close modal when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === matrixModal) {
                    toggleMatrix();
                }
            });
        }
        
        // Run the app
        document.addEventListener('DOMContentLoaded', initializeApp);
